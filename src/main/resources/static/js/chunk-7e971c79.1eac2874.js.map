{"version":3,"sources":["webpack:///./src/views/base-manager/stall-manager/managerApplyList.vue?5654","webpack:///src/views/base-manager/stall-manager/managerApplyList.vue","webpack:///./src/views/base-manager/stall-manager/managerApplyList.vue?1fea","webpack:///./src/views/base-manager/stall-manager/managerApplyList.vue","webpack:///./src/api/stallApi.js","webpack:///./src/utils/objectUtils.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","listData","scopedSlots","_u","key","fn","scope","on","$event","consent","row","_v","refuse","pageInfo","layout","total","staticRenderFns","component","listStall","params","postRequest","createStall","updateStall","putRequest","deleteStall","deleteRequest","listApply","createApply","updateApply","copyObjectRef","data","JSON","parse","stringify"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,CAAC,aAAa,SAAS,CAACF,EAAG,WAAW,CAACE,YAAY,CAAC,MAAQ,QAAQC,MAAM,CAAC,KAAOP,EAAIQ,SAAS,OAAS,KAAK,CAACJ,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,YAAY,MAAQ,OAAO,MAAQ,SAASH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,aAAa,MAAQ,OAAO,MAAQ,SAASH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,WAAW,MAAQ,UAAUH,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ,MAAME,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACT,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,QAAQO,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAIgB,QAAQH,EAAMI,QAAQ,CAACjB,EAAIkB,GAAG,QAAQd,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,QAAQO,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAImB,OAAON,EAAMI,QAAQ,CAACjB,EAAIkB,GAAG,gBAAgB,GAAGd,EAAG,SAAS,CAACE,YAAY,CAAC,aAAa,QAAQC,MAAM,CAAC,OAAS,KAAK,CAACH,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,EAAE,OAAS,KAAK,CAACH,EAAG,gBAAgB,CAACG,MAAM,CAAC,WAAa,GAAG,OAASP,EAAIoB,SAASC,OAAO,MAAQrB,EAAIoB,SAASE,UAAU,IAAI,IAAI,IAC7/BC,EAAkB,G,wBC6CtB,GACE,KAAF,mBACE,KAFF,WAGI,MAAJ,CACM,KAAN,kDACM,SAAN,GACM,WAAN,CACQ,WAAR,EACQ,SAAR,GACQ,WAAR,CACU,OAAV,KACU,SAAV,KACU,OAAV,IAIM,SAAN,CACQ,GAAR,KACQ,SAAR,KACQ,WAAR,KACQ,QAAR,KACQ,UAAR,KACQ,OAAR,KACQ,SAAR,KACQ,OAAR,MAEM,SAAN,CACQ,OAAR,mCACQ,MAAR,MAIE,QAhCF,WAiCI,KAAJ,gBAEE,QAAF,CACI,aADJ,WACM,IAAN,OACM,OAAN,OAAM,CAAN,mCACQ,EAAR,sBACQ,EAAR,iCAII,aARJ,SAQA,KACM,OAAN,aACA,MACA,aACA,KAEA,MAGI,gBAjBJ,SAiBA,KACM,OAAN,wCACA,IAEA,eAEI,OAvBJ,SAuBA,GAAM,IAAN,OACA,oBACM,EAAN,SACM,EAAN,gBACM,OAAN,OAAM,CAAN,qBACQ,EAAR,UACU,QAAV,OACU,KAAV,YAEQ,EAAR,mBAGI,QAnCJ,SAmCA,GAAM,IAAN,OACA,oBACM,EAAN,SACM,OAAN,OAAM,CAAN,qBACQ,EAAR,UACU,QAAV,OACU,KAAV,YAEQ,EAAR,qBC5HwX,I,YCOpXC,EAAY,eACd,EACAzB,EACAwB,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,6CClBf,8PAEaC,EAAY,SAACC,GACtB,OAAOC,eAAY,uBAAwBD,IAGlCE,EAAc,SAACF,GACxB,OAAOC,eAAY,sBAAuBD,IAGjCG,EAAc,SAACH,GACxB,OAAOI,eAAW,yBAA0BJ,IAGnCK,EAAc,SAACL,GACxB,OAAOM,eAAc,yBAA0BN,IAGtCO,EAAY,SAACP,GACtB,OAAOC,eAAY,uBAAwBD,IAGlCQ,EAAc,SAACR,GACxB,OAAOC,eAAY,sBAAuBD,IAGjCS,EAAc,SAACT,GACxB,OAAOI,eAAW,yBAA0BJ,K,kCCzBhD,kCAAO,IAAMU,EAAgB,SAACC,GAC1B,OAAOC,KAAKC,MAAMD,KAAKE,UAAUH","file":"js/chunk-7e971c79.1eac2874.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin-top\":\"40px\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.listData,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"stallName\",\"label\":\"摊位名称\",\"width\":\"400\"}}),_c('el-table-column',{attrs:{\"prop\":\"bazaarName\",\"label\":\"所属市场\",\"width\":\"300\"}}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"用户名称\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.consent(scope.row)}}},[_vm._v(\"同意\")]),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.refuse(scope.row)}}},[_vm._v(\"拒绝\")])]}}])})],1),_c('el-row',{staticStyle:{\"margin-top\":\"25px\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":4,\"offset\":18}},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":_vm.pageInfo.layout,\"total\":_vm.pageInfo.total}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div style=\"margin-top: 40px\">\r\n\r\n        <el-table\r\n                :data=\"listData\"\r\n                stripe\r\n                style=\"width: 100%\">\r\n            <el-table-column\r\n                    prop=\"stallName\"\r\n                    label=\"摊位名称\"\r\n                    width=\"400\">\r\n            </el-table-column>\r\n            <el-table-column\r\n                    prop=\"bazaarName\"\r\n                    label=\"所属市场\"\r\n                    width=\"300\">\r\n            </el-table-column>\r\n            <el-table-column\r\n                    prop=\"username\"\r\n                    label=\"用户名称\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n                    label=\"操作\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button type=\"text\" @click=\"consent(scope.row)\">同意</el-button>\r\n                    <el-button type=\"text\" @click=\"refuse(scope.row)\">拒绝</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <el-row :gutter=\"20\" style=\"margin-top: 25px\">\r\n            <el-col :span=\"4\" :offset=\"18\">\r\n                <el-pagination\r\n                        background\r\n                        :layout=pageInfo.layout\r\n                        :total=\"pageInfo.total\">\r\n                </el-pagination>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {listApply,updateApply} from \"../../../api/stallApi\";\r\n    import {copyObjectRef} from \"../../../utils/objectUtils\";\r\n\r\n    export default {\r\n        name: \"managerApplyList\",\r\n        data() {\r\n            return {\r\n                user: JSON.parse(window.sessionStorage.getItem('user')),\r\n                listData: [],\r\n                queryParam: {\r\n                    \"pageNumber\":1,\r\n                    \"pageSize\": 10,\r\n                    \"conditions\": {\r\n                        \"userId\": null,\r\n                        \"bazaarId\": null,\r\n                        \"status\": 0\r\n                    }\r\n\r\n                },\r\n                formData: {\r\n                    id: null,\r\n                    bazaarId: null,\r\n                    bazaarName: null,\r\n                    stallId: null,\r\n                    stallName: null,\r\n                    userId: null,\r\n                    userName: null,\r\n                    status: null\r\n                },\r\n                pageInfo: {\r\n                    layout: \"prev, pager, next, jumper, total\",\r\n                    total: 10\r\n                }\r\n            }\r\n        },\r\n        created() {\r\n            this.listAllApply()\r\n        },\r\n        methods: {\r\n            listAllApply() {\r\n                listApply(this.queryParam).then(res => {\r\n                    this.listData = res.data.first\r\n                    this.pageInfo.total = res.data.second\r\n                })\r\n            },\r\n\r\n            formatStatus(row,column) {\r\n                if(row.status === 0) {\r\n                    return \"待审批\"\r\n                } else if (row.status === 1) {\r\n                    return \"成功\"\r\n                } else {\r\n                    return \"失败\"\r\n                }\r\n            },\r\n            formatApplyTime(row,column) {\r\n                if (row.handlerTime == null || row.handlerTime === '') {\r\n                    return '-'\r\n                }\r\n                return row.handlerTime\r\n            },\r\n            refuse(row) {\r\n                const newRow = copyObjectRef(row)\r\n                newRow.status = 2\r\n                newRow.message = \"不符合要求\"\r\n                updateApply(newRow).then(res => {\r\n                    this.$message({\r\n                        message: '处理成功',\r\n                        type: 'success'\r\n                    });\r\n                    this.listAllApply()\r\n                })\r\n            },\r\n            consent(row){\r\n                const newRow = copyObjectRef(row)\r\n                newRow.status = 1\r\n                updateApply(newRow).then(res => {\r\n                    this.$message({\r\n                        message: '处理成功',\r\n                        type: 'success'\r\n                    });\r\n                    this.listAllApply()\r\n                })\r\n            }\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./managerApplyList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./managerApplyList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./managerApplyList.vue?vue&type=template&id=78531851&scoped=true&\"\nimport script from \"./managerApplyList.vue?vue&type=script&lang=js&\"\nexport * from \"./managerApplyList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78531851\",\n  null\n  \n)\n\nexport default component.exports","import {postRequest,putRequest,deleteRequest,getRequest,postKeyValueRequest} from \"../utils/request\";\r\n\r\nexport const listStall = (params) => {\r\n    return postRequest(\"/uiapi/v1/stall/list\", params)\r\n}\r\n\r\nexport const createStall = (params) => {\r\n    return postRequest(\"/uiapi/v1/stall/add\", params)\r\n}\r\n\r\nexport const updateStall = (params) => {\r\n    return putRequest(\"/uiapi/v1/stall/update\", params)\r\n}\r\n\r\nexport const deleteStall = (params) => {\r\n    return deleteRequest(\"/uiapi/v1/stall/delete\", params)\r\n}\r\n\r\nexport const listApply = (params) => {\r\n    return postRequest(\"/uiapi/v1/apply/list\", params)\r\n}\r\n\r\nexport const createApply = (params) => {\r\n    return postRequest(\"/uiapi/v1/apply/add\", params)\r\n}\r\n\r\nexport const updateApply = (params) => {\r\n    return putRequest(\"/uiapi/v1/apply/update\", params)\r\n}\r\n","\r\n\r\nexport const copyObjectRef = (data) => {\r\n    return JSON.parse(JSON.stringify(data))\r\n};"],"sourceRoot":""}