(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b06d81a"],{"1d8e":function(t,a,e){"use strict";e.d(a,"c",(function(){return o})),e.d(a,"a",(function(){return r})),e.d(a,"b",(function(){return n})),e.d(a,"d",(function(){return i}));var l=e("b775"),o=function(t){return Object(l["c"])("/uiapi/v1/bazaar/list",t)},r=function(t){return Object(l["c"])("/uiapi/v1/bazaar/add",t)},n=function(t){return Object(l["a"])("/uiapi/v1/bazaar/delete",t)},i=function(t){return Object(l["d"])("/uiapi/v1/bazaar/update",t)}},9076:function(t,a,e){"use strict";e.r(a);var l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{"margin-top":"40px"}},[e("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.queryParam}},[e("el-form-item",{attrs:{label:"市场名称"}},[e("el-input",{attrs:{placeholder:"名称",clearable:""},model:{value:t.queryParam.name,callback:function(a){t.$set(t.queryParam,"name",a)},expression:"queryParam.name"}})],1),e("el-form-item",{attrs:{label:"市场地址"}},[e("el-input",{attrs:{placeholder:"地址",clearable:""},model:{value:t.queryParam.conditions.location,callback:function(a){t.$set(t.queryParam.conditions,"location",a)},expression:"queryParam.conditions.location"}})],1),e("el-form-item",{attrs:{label:"市场状态"}},[e("el-select",{attrs:{placeholder:"市场状态",clearable:""},on:{clear:function(a){return t.selectClear("status")}},model:{value:t.queryParam.conditions.status,callback:function(a){t.$set(t.queryParam.conditions,"status",a)},expression:"queryParam.conditions.status"}},[e("el-option",{attrs:{label:"维修中",value:"0"}}),e("el-option",{attrs:{label:"开放中",value:"1"}})],1)],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")])],1)],1),e("el-button",{attrs:{type:"primary"},on:{click:t.createBazaar}},[t._v("创建")]),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.listData,stripe:""}},[e("el-table-column",{attrs:{prop:"name",label:"市场名称",width:"180"}}),e("el-table-column",{attrs:{prop:"phone",label:"市场电话",width:"180"}}),e("el-table-column",{attrs:{prop:"manager",label:"市场管理员",width:"180"}}),e("el-table-column",{attrs:{prop:"location",label:"市场地址"}}),e("el-table-column",{attrs:{prop:"sortNumber",label:"排序"}}),e("el-table-column",{attrs:{prop:"status",label:"市场状态",formatter:t.formatStatus}}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.update(a.row)}}},[t._v("修改")]),e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.doDelete(a.row)}}},[t._v("删除")])]}}])})],1),e("el-row",{staticStyle:{"margin-top":"25px"},attrs:{gutter:20}},[e("el-col",{attrs:{span:4,offset:18}},[e("el-pagination",{attrs:{background:"",layout:t.pageInfo.layout,total:t.pageInfo.total}})],1)],1),e("el-dialog",{attrs:{title:t.title,visible:t.dialogVisible,width:"40%"},on:{"update:visible":function(a){t.dialogVisible=a}}},[e("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"200px",size:"medium"}},[e("el-form-item",{attrs:{label:"市场名称",prop:"name"}},[e("el-input",{staticStyle:{width:"350px"},model:{value:t.formData.name,callback:function(a){t.$set(t.formData,"name",a)},expression:"formData.name"}})],1),e("el-form-item",{attrs:{label:"市场电话",prop:"phone"}},[e("el-input",{staticStyle:{width:"350px"},model:{value:t.formData.phone,callback:function(a){t.$set(t.formData,"phone",a)},expression:"formData.phone"}})],1),e("el-form-item",{attrs:{label:"市场管理员",prop:"manager"}},[e("el-select",{staticStyle:{width:"350px"},attrs:{placeholder:""},model:{value:t.formData.manager,callback:function(a){t.$set(t.formData,"manager",a)},expression:"formData.manager"}},t._l(t.managerList,(function(t){return e("el-option",{attrs:{label:t.name,value:t.code}})})),1)],1),e("el-form-item",{attrs:{label:"市场地址",prop:"location"}},[e("el-input",{staticStyle:{width:"350px"},model:{value:t.formData.location,callback:function(a){t.$set(t.formData,"location",a)},expression:"formData.location"}})],1),e("el-form-item",{attrs:{label:"排序",prop:"sortNumber"}},[e("el-input",{staticStyle:{width:"350px"},model:{value:t.formData.sortNumber,callback:function(a){t.$set(t.formData,"sortNumber",a)},expression:"formData.sortNumber"}})],1),e("el-form-item",{attrs:{label:"市场状态",prop:"status"}},[e("el-select",{staticStyle:{width:"350px"},attrs:{placeholder:""},model:{value:t.formData.status,callback:function(a){t.$set(t.formData,"status",a)},expression:"formData.status"}},t._l(t.status,(function(t){return e("el-option",{attrs:{label:t.name,value:t.code}})})),1)],1),e("el-form-item",[t.formData.id?e("el-button",{attrs:{type:"primary"},on:{click:t.doUpdate}},[t._v("保存")]):e("el-button",{attrs:{type:"primary"},on:{click:t.doCreate}},[t._v("立即创建")]),e("el-button",{on:{click:function(a){t.dialogVisible=!1}}},[t._v("取消")])],1)],1)],1)],1)},o=[],r=(e("b0c0"),e("1d8e")),n={name:"Bazaars",data:function(){return{listData:[],queryParam:{pageNumber:1,pageSize:10,name:null,conditions:{location:null,status:null}},dialogVisible:!1,formData:{id:null,name:null,phone:null,manager:null,location:null,sortNumber:1,status:null},managerList:[{name:"SmsAdmin",code:"SmsAdmin"}],status:[{name:"维护中",code:0},{name:"开放中",code:1}],rules:{name:[{required:!0,message:"必填"}],phone:[{required:!0,message:"必填"}],manager:[{required:!0,message:"必填"}],location:[{required:!0,message:"必填"}],sortNumber:[{required:!0,message:"必填"}],status:[{required:!0,message:"必填"}]},pageInfo:{layout:"prev, pager, next, jumper, total",total:10},title:"创建市场"}},created:function(){this.listBazaars()},methods:{listBazaars:function(){var t=this;Object(r["c"])(this.queryParam).then((function(a){t.listData=a.data.first,t.pageInfo.total=a.data.second}))},onSubmit:function(){this.listBazaars()},formatStatus:function(t,a){return 0==t.status?"维护中":"开放中"},createBazaar:function(){this.dialogVisible=!0,this.initFormData()},doCreate:function(){var t=this;Object(r["a"])(this.formData).then((function(a){t.dialogVisible=!1,t.initFormData(),t.$message({message:"创建成功",type:"success"}),t.listBazaars()}))},initFormData:function(t){this.formData=null!=t?{id:t.id,name:t.name,phone:t.phone,manager:t.manager,location:t.location,sortNumber:t.sortNumber,status:t.status}:{id:null,name:null,phone:null,manager:null,location:null,sortNumber:1,status:null}},doDelete:function(t){var a=this,e=[];e.push(t.id),Object(r["b"])(e).then((function(t){a.$message({message:"删除成功",type:"success"}),a.listBazaars()}))},update:function(t){this.title="编辑市场",this.initFormData(t),this.dialogVisible=!0},doUpdate:function(){var t=this;Object(r["d"])(this.formData).then((function(a){t.dialogVisible=!1,t.initFormData(),t.$message({message:"修改成功",type:"success"}),t.listBazaars()})).catch((function(a){t.dialogVisible=!1,t.initFormData(),t.$message({message:"修改失败",type:"error"}),t.listBazaars()}))},selectClear:function(t){this.queryParam.conditions[t]=null}}},i=n,s=e("2877"),u=Object(s["a"])(i,l,o,!1,null,null,null);a["default"]=u.exports}}]);
//# sourceMappingURL=chunk-4b06d81a.8b07eee9.js.map